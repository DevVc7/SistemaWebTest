{"ast":null,"code":"var _jsxFileName = \"D:\\\\VICTOR CAMA\\\\075_SistemaVentaReactJSNet-master\\\\ClientApp\\\\src\\\\views\\\\ReporteVenta.js\",\n    _s = $RefreshSig$();\n\nimport { Card, CardBody, CardHeader, Col, FormGroup, Input, InputGroup, InputGroupText, Label, Row, Table, Button, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport DatePicker from \"react-datepicker\";\nimport Swal from 'sweetalert2';\nimport DataTable from 'react-data-table-component';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { useState } from \"react\";\nimport * as XLSX from \"xlsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst modeloInicio = [{\n  fechaRegistro: \"\",\n  numeroDocumento: \"\",\n  tipoDocumento: \"\",\n  documentoCliente: \"\",\n  nombreCliente: \"\",\n  subTotalVenta: \"\",\n  impuestoTotalVenta: \"\",\n  totalVenta: \"\",\n  producto: \"\",\n  cantidad: \"\",\n  precio: \"\",\n  total: \"\"\n}];\n\nconst ReporteVenta = () => {\n  _s();\n\n  const [fechaInicio, setFechaInicio] = useState(new Date());\n  const [fechaFin, setFechaFin] = useState(new Date());\n  const [pendiente, setPendiente] = useState(false);\n  const [ventas, setVentas] = useState(modeloInicio);\n\n  const buscar = () => {\n    setPendiente(true);\n    let options = {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit'\n    };\n\n    let _fechaInicio = fechaInicio.toLocaleDateString('es-PE', options);\n\n    let _fechaFin = fechaFin.toLocaleDateString('es-PE', options);\n\n    const api = fetch(`api/venta/Reporte?fechaInicio=${_fechaInicio}&fechaFin=${_fechaFin}`).then(response => {\n      return response.ok ? response.json() : Promise.reject(response);\n    }).then(dataJson => {\n      var data = dataJson;\n      setPendiente(false);\n\n      if (data.length < 1) {\n        Swal.fire('Opps!', 'No se encontraron resultados', 'warning');\n      }\n\n      setVentas(data);\n    }).catch(error => {\n      setVentas([]);\n      Swal.fire('Opps!', 'No se pudo encontrar información', 'error');\n    });\n  };\n\n  const columns = [{\n    name: 'Fecha Registro',\n    selector: row => row.fechaRegistro\n  }, {\n    name: 'Numero Venta',\n    selector: row => row.numeroDocumento\n  }, {\n    name: 'Tipo Documento',\n    selector: row => row.tipoDocumento\n  }, {\n    name: 'Documento Cliente',\n    selector: row => row.documentoCliente\n  }, {\n    name: 'Nombre Cliente',\n    selector: row => row.nombreCliente\n  }, {\n    name: 'Sub Total Venta',\n    selector: row => row.subTotalVenta\n  }, {\n    name: 'Impuesto Total Venta',\n    selector: row => row.impuestoTotalVenta\n  }, {\n    name: 'Total Venta',\n    selector: row => row.totalVenta\n  }, {\n    name: 'Producto',\n    sortable: true,\n    grow: 2,\n    maxWidth: '600px',\n    selector: row => row.producto\n  }, {\n    name: 'Cantidad',\n    selector: row => row.cantidad\n  }, {\n    name: 'Precio',\n    selector: row => row.precio\n  }, {\n    name: 'Total',\n    selector: row => row.total\n  }];\n  const customStyles = {\n    headCells: {\n      style: {\n        fontSize: '13px',\n        fontWeight: 800\n      }\n    },\n    headRow: {\n      style: {\n        backgroundColor: \"#eee\"\n      }\n    }\n  };\n\n  const exportarExcel = () => {\n    var wb = XLSX.utils.book_new();\n    var ws = XLSX.utils.json_to_sheet(ventas);\n    XLSX.utils.book_append_sheet(wb, ws, \"Reporte\");\n    XLSX.writeFile(wb, \"Reporte Ventas.xlsx\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        sm: 12,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            style: {\n              backgroundColor: '#4e73df',\n              color: \"white\"\n            },\n            children: \"Reporte de ventas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              className: \"align-items-end\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    children: \"Fecha Inicio:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n                    className: \"form-control form-control-sm\",\n                    selected: fechaInicio,\n                    onChange: date => setFechaInicio(date),\n                    dateFormat: \"dd/MM/yyyy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    children: \"Fecha Fin:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n                    className: \"form-control form-control-sm\",\n                    selected: fechaFin,\n                    onChange: date => setFechaFin(date),\n                    dateFormat: \"dd/MM/yyyy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    color: \"primary\",\n                    size: \"sm\",\n                    block: true,\n                    onClick: buscar,\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-search\",\n                      \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 45\n                    }, this), \" Buscar\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    color: \"success\",\n                    size: \"sm\",\n                    block: true,\n                    onClick: exportarExcel,\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-file-excel\",\n                      \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 45\n                    }, this), \" Exportar\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                sm: \"12\",\n                children: /*#__PURE__*/_jsxDEV(DataTable, {\n                  progressPending: pendiente,\n                  columns: columns,\n                  data: ventas,\n                  customStyles: customStyles\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(ReporteVenta, \"lewthsTWOykBqS/CBvwey4ChQUo=\");\n\n_c = ReporteVenta;\nexport default ReporteVenta;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReporteVenta\");","map":{"version":3,"sources":["D:/VICTOR CAMA/075_SistemaVentaReactJSNet-master/ClientApp/src/views/ReporteVenta.js"],"names":["Card","CardBody","CardHeader","Col","FormGroup","Input","InputGroup","InputGroupText","Label","Row","Table","Button","Modal","ModalHeader","ModalBody","ModalFooter","DatePicker","Swal","DataTable","useState","XLSX","modeloInicio","fechaRegistro","numeroDocumento","tipoDocumento","documentoCliente","nombreCliente","subTotalVenta","impuestoTotalVenta","totalVenta","producto","cantidad","precio","total","ReporteVenta","fechaInicio","setFechaInicio","Date","fechaFin","setFechaFin","pendiente","setPendiente","ventas","setVentas","buscar","options","year","month","day","_fechaInicio","toLocaleDateString","_fechaFin","api","fetch","then","response","ok","json","Promise","reject","dataJson","data","length","fire","catch","error","columns","name","selector","row","sortable","grow","maxWidth","customStyles","headCells","style","fontSize","fontWeight","headRow","backgroundColor","exportarExcel","wb","utils","book_new","ws","json_to_sheet","book_append_sheet","writeFile","color","date"],"mappings":"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","sourcesContent":["import { Card, CardBody, CardHeader, Col, FormGroup, Input, InputGroup, InputGroupText, Label, Row, Table, Button, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport DatePicker from \"react-datepicker\";\nimport Swal from 'sweetalert2'\nimport DataTable from 'react-data-table-component';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { useState } from \"react\";\n\nimport * as XLSX from \"xlsx\"\n\nconst modeloInicio = [{\n    fechaRegistro : \"\",\n    numeroDocumento: \"\",\n    tipoDocumento: \"\",\n    documentoCliente: \"\",\n    nombreCliente: \"\",\n    subTotalVenta: \"\",\n    impuestoTotalVenta: \"\",\n    totalVenta: \"\",\n    producto: \"\",\n    cantidad: \"\",\n    precio: \"\",\n    total: \"\"\n}]\n\nconst ReporteVenta = () => {\n    const [fechaInicio, setFechaInicio] = useState(new Date());\n    const [fechaFin, setFechaFin] = useState(new Date());\n    const [pendiente, setPendiente] = useState(false);\n    const [ventas, setVentas] = useState(modeloInicio)\n\n\n    const buscar = () => {\n\n        setPendiente(true)\n        let options = { year: 'numeric', month: '2-digit', day: '2-digit' };\n\n        let _fechaInicio = fechaInicio.toLocaleDateString('es-PE', options)\n        let _fechaFin = fechaFin.toLocaleDateString('es-PE', options)\n\n        const api = fetch(`api/venta/Reporte?fechaInicio=${_fechaInicio}&fechaFin=${_fechaFin}`)\n            .then((response) => {\n                return response.ok ? response.json() : Promise.reject(response);\n            })\n            .then((dataJson) => {\n                var data = dataJson;\n                setPendiente(false)\n                if (data.length < 1) {\n                    Swal.fire(\n                        'Opps!',\n                        'No se encontraron resultados',\n                        'warning'\n                    )\n                }\n                setVentas(data);\n            }).catch((error) => {\n                setVentas([]);\n                Swal.fire(\n                    'Opps!',\n                    'No se pudo encontrar información',\n                    'error'\n                )\n            })\n    }\n \n    const columns = [\n        {\n            name: 'Fecha Registro',\n            selector: row => row.fechaRegistro,\n        },\n        {\n            name: 'Numero Venta',\n            selector: row => row.numeroDocumento,\n        },\n        {\n            name: 'Tipo Documento',\n            selector: row => row.tipoDocumento,\n        },\n        {\n            name: 'Documento Cliente',\n            selector: row => row.documentoCliente,\n        },\n        {\n            name: 'Nombre Cliente',\n            selector: row => row.nombreCliente,\n        },\n        {\n            name: 'Sub Total Venta',\n            selector: row => row.subTotalVenta,\n        },\n        {\n            name: 'Impuesto Total Venta',\n            selector: row => row.impuestoTotalVenta,\n        },\n        {\n            name: 'Total Venta',\n            selector: row => row.totalVenta,\n        },\n        {\n            name: 'Producto',\n            sortable: true,\n            grow: 2,\n            maxWidth: '600px',\n            selector: row => row.producto,\n        },\n        {\n            name: 'Cantidad',\n            selector: row => row.cantidad,\n        },\n        {\n            name: 'Precio',\n            selector: row => row.precio,\n        },\n        {\n            name: 'Total',\n            selector: row => row.total,\n        },\n    ];\n\n    const customStyles = {\n        headCells: {\n            style: {\n                fontSize: '13px',\n                fontWeight: 800,\n            },\n        },\n        headRow: {\n            style: {\n                backgroundColor: \"#eee\",\n            }\n        }\n    };\n\n    const exportarExcel = () => {\n        var wb = XLSX.utils.book_new();\n        var ws = XLSX.utils.json_to_sheet(ventas);\n\n        XLSX.utils.book_append_sheet(wb, ws, \"Reporte\");\n        XLSX.writeFile(wb, \"Reporte Ventas.xlsx\")\n    }\n\n    return (\n        <>\n            <Row>\n                <Col sm={12}>\n                    <Card>\n                        <CardHeader style={{ backgroundColor: '#4e73df', color: \"white\" }}>\n                            Reporte de ventas\n                        </CardHeader>\n                        <CardBody>\n                            <Row className=\"align-items-end\">\n                                \n                                <Col sm={3}>\n                                    <FormGroup>\n                                        <Label>Fecha Inicio:</Label>\n                                        <DatePicker\n                                            className=\"form-control form-control-sm\"\n                                            selected={fechaInicio}\n                                            onChange={(date) => setFechaInicio(date)}\n                                            dateFormat='dd/MM/yyyy'\n                                        />\n                                    </FormGroup>\n                                </Col>\n\n                                <Col sm={3}>\n                                    <FormGroup>\n                                        <Label>Fecha Fin:</Label>\n                                        <DatePicker\n                                            className=\"form-control form-control-sm\"\n                                            selected={fechaFin}\n                                            onChange={(date) => setFechaFin(date)}\n                                            dateFormat='dd/MM/yyyy'\n                                        />\n                                    </FormGroup>\n                                </Col>\n                                <Col sm={3}>\n                                    <FormGroup>\n                                        <Button color=\"primary\" size=\"sm\" block onClick={buscar}>\n                                            <i className=\"fa fa-search\" aria-hidden=\"true\"></i> Buscar\n                                        </Button>\n                                    </FormGroup>\n                                </Col>\n\n                                <Col sm={3}>\n                                    <FormGroup>\n                                        <Button color=\"success\" size=\"sm\" block onClick={exportarExcel}>\n                                            <i className=\"fa fa-file-excel\" aria-hidden=\"true\"></i> Exportar\n                                        </Button>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                            <hr></hr>\n                            <Row>\n\n                                <Col sm=\"12\">\n                                    <DataTable\n                                        progressPending={pendiente}\n                                        columns={columns}\n                                        data={ventas}\n                                        customStyles={customStyles}\n                                    />\n                                  \n\n                                </Col>\n\n                            </Row>\n\n                        </CardBody>\n                    </Card>\n                </Col>\n            </Row>\n\n            \n        </>\n    )\n}\n\nexport default ReporteVenta;"]},"metadata":{},"sourceType":"module"}